<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Access</title>
    <link rel="stylesheet" href="styles.css">
    <script src="scripts.js" defer></script>
</head>
<body>
    <div class="course-container">
        <div id="course-content">
            <!-- Content loaded dynamically -->
        </div>

        <script>
document.addEventListener('DOMContentLoaded', function() {
    // Debug: Log that the script is running
    console.log("Script loaded - checking URL parameters");
    
    const urlParams = new URLSearchParams(window.location.search);
    const courseId = urlParams.get('id');
    const token = urlParams.get('token');
    
    // Debug: Log the extracted parameters
    console.log("Course ID:", courseId);
    console.log("Token:", token);
    
    // Check if required parameters exist
    if (!courseId) {
        console.error("No course ID found in URL");
        showAccessDenied();
        return;
    }
    
    // Debug: Log before loading course
    console.log("Attempting to load course:", courseId);
    
    loadCourse(courseId);
});

function showAccessDenied() {
    console.log("Showing access denied message");
    document.getElementById('invalid-access').classList.remove('hidden');
    document.getElementById('course-content').classList.add('hidden');
}

function loadCourse(courseId) {
    // Debug: Log course loading attempt
    console.log("Loading course content for:", courseId);
    
    const courses = {
        'crs1': {
            title: "Web Development Fundamentals",
            content: `
                <h2>Welcome to Course 1</h2>
                <p>This is exclusive content available only through your special link.</p>
                <section>
                    <h3>Lesson 1: Getting Started</h3>
                    <p>All HTML, CSS, and JavaScript commands in one place</p>
        </header>
         <!-- HTML Reference Card -->
        <div class="reference-card" id="html-card">
          <div class="card-header">
            <h2>HTML Reference</h2>
            <span>▼</span>
          </div>
          <div class="card-content">
            <!-- Document Structure -->
            <div class="command">
              <div class="command-header">
                <span class="command-name">&lt;!DOCTYPE html&gt;</span>
                <span class="command-type">HTML</span>
              </div>
              <p class="command-description">Defines the document type and HTML version being used.</p>
              <div class="command-syntax">&lt;!DOCTYPE html&gt;</div>
              <div class="command-example">
                <div class="example-title">Example:</div>
                <pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Page Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;My First Heading&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
              </div>
            </div>

            <div class="command">
              <div class="command-header">
                <span class="command-name">&lt;a&gt;</span>
                <span class="command-type">HTML</span>
              </div>
              <p class="command-description">Defines a hyperlink to link from one page to another.</p>
              <div class="command-syntax">&lt;a href="url"&gt;link text&lt;/a&gt;</div>
              <div class="command-example">
                <div class="example-title">Example:</div>
                <pre>&lt;a href="https://example.com"&gt;Visit Example&lt;/a&gt;
&lt;a href="#section2"&gt;Jump to Section 2&lt;/a&gt;</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- CSS Reference Card -->
        <div class="reference-card" id="css-card">
          <div class="card-header">
            <h2>CSS Reference</h2>
            <span>▼</span>
          </div>
          <div class="card-content">
            <div class="command">
              <div class="command-header">
                <span class="command-name">display</span>
                <span class="command-type">CSS</span>
              </div>
              <p class="command-description">Specifies the display behavior of an element.</p>
              <div class="command-syntax">display: block | inline | inline-block | flex | grid | none;</div>
              <div class="command-example">
                <div class="example-title">Example:</div>
                <pre>.block-element {
    display: block;
}

.flex-container {
    display: flex;
    justify-content: center;
}</pre>
              </div>
            </div>

            <div class="command">
              <div class="command-header">
                <span class="command-name">padding</span>
                <span class="command-type">CSS</span>
              </div>
              <p class="command-description">Sets the padding area on all four sides of an element.</p>
              <div class="command-syntax">
                padding: all;<br>
                padding: top-bottom left-right;<br>
                padding: top right bottom left;
              </div>
              <div class="command-example">
                <div class="example-title">Example:</div>
                <pre>.box {
    padding: 20px; /* All sides */
}

.card {
    padding: 10px 20px; /* Top/bottom, left/right */
}

.special {
    padding: 5px 10px 15px 20px; /* Top, right, bottom, left */
}</pre>
              </div>
            </div>
          </div>
        </div>
        
        <!-- JavaScript Reference Card -->
        <div class="reference-card" id="js-card">
          <div class="card-header">
            <h2>JavaScript Reference</h2>
            <span>▼</span>
          </div>
          <div class="card-content">
            <div class="command">
              <div class="command-header">
                <span class="command-name">Variables</span>
                <span class="command-type">JavaScript</span>
              </div>
              <p class="command-description">Containers for storing data values.</p>
              <div class="command-syntax">
                let variableName = value;<br>
                const constantName = value;<br>
                var oldVariable = value;
              </div>
              <div class="command-example">
                <div class="example-title">Example:</div>
                <pre>let age = 25;
const PI = 3.14159;
var name = "John";

age = 26; // Valid
// PI = 3.14; // Error (const can't be reassigned)</pre>
              </div>
            </div>

            <div class="command">
              <div class="command-header">
                <span class="command-name">Functions</span>
                <span class="command-type">JavaScript</span>
              </div>
              <p class="command-description">Blocks of code designed to perform particular tasks.</p>
              <div class="command-syntax">
                function name(parameters) {<br>
                &nbsp;&nbsp;// code<br>
                }<br><br>
                const name = function(parameters) {<br>
                &nbsp;&nbsp;// code<br>
                };<br><br>
                const name = (parameters) => {<br>
                &nbsp;&nbsp;// code<br>
                };
              </div>
              <div class="command-example">
                <div class="example-title">Example:</div>
                <pre>function greet(name) {
    return "Hello, " + name;
}

const square = function(x) {
    return x * x;
};

const add = (a, b) => a + b;</pre>
              </div>
            </div>
          </div>
        </div>
      </div>
                </section>
            `
        },
        'crs2': {
            title: "Advanced JavaScript Course",
            content: `
                <h2>Advanced JavaScript Course Content</h2>
                <p>Specialized knowledge shared only with select students.</p>
                <section>
                    <h3>Advanced JavaScript course Topic 1</h3>
                    <p>This lesson is in video form. 
                    So you will be directed to the video link.</p>
                    <a href="https://www.udemy.com/share/101txa3@MVKErnvr52M6bEZjX-42kFhO0dpumHlTvquPnE2NyKKoTyxbLt3PGHbWmlggLtZ-8Q==/">
                    <button>Go To</button>
                    </a>
                </section>
            `
        },
        'crs3': {
            title: "React.js Crash Course",
            content: `
                 <h2>React.js crash course class</h2>
                 <p>In this course, there will be varieties of lessons like react.js for frontend development, react.js for app development and so on.</p>
                 <div class="course-container">
        <!-- First Course Section -->
        <section class="course-section">
            <h3>React.js for frontend website development</h3>
            <a href="https://www.udemy.com/share/101rkI3@_untVyl7pnscOa-rOKvIqLpKvuvEguw7ky8id9RrkUe5EORjs6WwqOraqMeb6NYnYA==/">
                <button class="course-button">Go To Course</button>
            </a>
        </section>

        <!-- Second Course Section -->
        <section class="course-section">
            <h3>Node.js for backend development</h3>
            <a href="https://www.udemy.com/nodejs-course-link">
                <button class="course-button">Go To Course</button>
            </a>
        </section>

        <!-- Third Course Section -->
        <section class="course-section">
            <h3>Complete JavaScript Mastery</h3>
            <a href="https://www.udemy.com/javascript-course-link">
                <button class="course-button">Go To Course</button>
            </a>
        </section>

        <!-- Add more sections as needed -->
    </div>
                 `
        }
    };
    
    // Debug: Log available courses
    console.log("Available courses:", Object.keys(courses));
    
    if (courses[courseId]) {
        console.log("Course found - displaying content");
        document.title = courses[courseId].title + " | Private Learning";
        document.getElementById('course-content').innerHTML = `
            <h1>${courses[courseId].title}</h1>
            ${courses[courseId].content}
            <div class="course-footer">
                <p>Bookmark this page to retain access.</p>
            </div>
        `;
    } else {
        console.error("Course not found:", courseId);
        showAccessDenied();
    }
    
    // Debug: Log final state
    console.log("Course load attempt complete");
}
        </script>
</body>
</html>
